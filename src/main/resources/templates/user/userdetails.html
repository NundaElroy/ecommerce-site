<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<th:block th:replace="fragments :: head(title ='User Page')"></th:block>
<body>
<!-- Body content goes here -->
<th:block th:replace="fragments :: header"></th:block>
<th:block th:replace="fragments :: sidebar"></th:block>

<main id="main" class="main">
    <div class="pagetitle">
        <h1>Users</h1>
        <nav>
            <ol class="breadcrumb">
                <li class="breadcrumb-item"><a href="index.html">Home</a></li>
                <li class="breadcrumb-item">User management</li>
                <li class="breadcrumb-item active">users</li>
            </ol>
        </nav>
    </div><!-- End Page Title -->

    <section class="section">
        <div class="card">
            <div class="card-body">
                <h5 class="card-title">User Management</h5>

                <!-- Add button -->
                <div class="mb-3">
                    <a href="#" class="btn btn-primary">Add User</a>
                </div>

                <!-- Table with stripped rows -->
                <table class="table table-striped datatable">
                    <thead>
                    <tr>
                        <th scope="col">ID</th>
                        <th scope="col">First Name</th>
                        <th scope="col">Last Name</th>
                        <th scope="col">Email</th>
                        <th scope="col">Phone Number</th>
                        <th scope="col">Created At</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr th:each="user : ${users}">
                        <th scope="row" th:text="${user.user_id}">1</th>
                        <td th:text="${user.firstName}">John</td>
                        <td th:text="${user.lastName}">Doe</td>
                        <td th:text="${user.email}">john.doe@example.com</td>
                        <td th:text="${user.phoneNumber}">123-456-7890</td>
                        <!-- Safe LocalDateTime formatting with null check -->
                        <td th:text="${user.createdAt != null ? #temporals.format(user.createdAt, 'yyyy-MM-dd') : '-'}">2024-01-01</td>
                    </tr>
                    </tbody>
                </table>
                <!-- End Table with stripped rows -->

            </div>
        </div>
    </section>
</main><!-- End #main -->

<th:block th:replace="fragments :: scripts"></th:block>
</body>
</html>
